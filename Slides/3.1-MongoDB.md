---
marp: true
size: 4:3
auto-scaling: 
    - true
    - fittingHeader
    - math
    - code
backgroundColor: #fff
backgroundImage: url('https://marp.app/assets/hero-background.jpg')
paginate: true
header: Introducción
---
<!--
_header: ''
_footer: ![Licencia de Creative Commons](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)<br>Esta obra está bajo una [licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional](http://creativecommons.org/licenses/by-nc-sa/4.0/). Icono diseñado por Flaticon
-->
<style>
img[alt~="center"] {
  display: block;
  margin: 0 auto;
}
img {
  background-color: transparent!important;
}
li {
  text-align: justify;
}
</style>
![bg left:30% 70%](img/t1/nueva-base-de-datos.png)

# TEMA 3.1

**Mongodb** - bases de datos documentales

---
<style scoped>
{ font-size: 1.4rem; }
</style>
## Introducción

# Introducción a Mongodb

---

# Sistemas de almacenamiento

- Datos **estructurados**
  - Hojas de calculo
  - Bases de datos relacionales
- Datos **semi-estructurados** o **no estructurados**
  - Se necesita un rediseño del sistema de almacenamiento

---
# Características de Mongodb

- MongoDB ("humongous") es una **base de datos orientada a documentos**
- Lídes de las bases de datos **NoSQL**
- Es **gratis** y **open-source**
- Usa **UTF-8** como codificación
- http://www.mongodb.org/
---
<style scoped>
p { font-size: 0.7rem; }
li { font-size: 0.7rem}
</style>

# JSON: JavaScript Object Notation

- La información en MongoDB utiliza un formato basado en **JSON** para su sintaxis:
```
 {
   "clientes":
   [
      {
        "apellido":"Alonso", 
        "gasto": 100, 
        "es_habitual": true,
        "productos": [
                        "P001", 
                        "P032", 
                        "P099"
                      ]
      },
    ...
   ]
 }
```
---

# Mongodb vs SQL

![center](images/t3.1/MongovsSQL.png) 

---

# Documentos

- MongoDB almacena la información en forma de **documentos**
  - ... que son pares clave-valor en formato **JSON**
  
![center](images/t3.1/JSON.png) 


---

# Colecciones

- MongoDB almacena todos los documentos en **colecciones**

  - Una colección es un **grupo de documentos relacionados** semánticamente

![center](images/t3.1/coleccion.png) 

---

# Queries

- En MongoDB las consultas se hacen sobre una colección de documentos

  - Se especifican los criterios de los documentos a recuperar


![center](images/t3.1/queries.png) 


--- 

# Conceptos básicos

- Los documentos en MongoDB tienen un **esquema flexible**
  - Las colecciones de MongoDB **no obligan a que sus documentos tengan un formato único**

- Una colección puede tener varios documentos con una estructura diferente
  - En la práctica los documentos de una colección comparten una estructura similar
  - Todos los documentos tendrán un campo _id


---

# Relaciones entre documentos

- ¿Cómo se representan las **relaciones** entre los datos?
- Existen **dos** formas de hacerlo:
  - **Referencias** a otros documentos
  - **Subdocumentos**
> Se permite (y aconseja) duplicar información


---

# Modelo normalizado

Ejemplo de modelo normalizado para Mongodb

![center](images/t3.1/normalizado.png) 

---

# Modelo con subdocumentos

Ejemplo de modelo embedido para Mongodb

![center](images/t3.1/embedded.png) 
